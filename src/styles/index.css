@import 'tailwindcss/base';
@import 'tailwindcss/components';
@import 'tailwindcss/utilities';

/* ================================
   PALETA SUSHIKOI (variables)
=================================== */
:root{
  --koi-red:   #C00000;  /* rojo del logo */
  --koi-black: #0A0A0A;  /* negro intenso */
  --koi-white: #FFFFFF;  /* blanco */
  --koi-gray:  #E0E0E0;  /* gris claro */

  /* Intensidades del glow (0..1) */
  --koi-glow:  .95;
  --koi-lobes: .90;
}

/* ================================
   BASE
=================================== */
@layer base {
  html {
    font-family: 'Inter', system-ui, sans-serif;
    scroll-behavior: smooth;
  }

  /* Mantén solo altura mínima; el fondo lo maneja body.koi-super o .koi-bg */
  body { @apply min-h-screen; }

  /* Fondo global: usa document.body.classList.add('koi-super') en main.tsx */
  body.koi-super{
    background:
      /* base negro suave (sin banding) */
      radial-gradient(120% 160% at 50% 10%, #121212 0%, #0A0A0A 55%, #0A0A0A 60%),
      /* glow rojo inferior */
      radial-gradient(140% 110% at 50% 120%, rgba(192,0,0,.42) 0%, rgba(192,0,0,.18) 38%, rgba(192,0,0,0) 60%),
      /* oscurecido de bordes para profundidad */
      linear-gradient(180deg, rgba(0,0,0,.35) 0%, rgba(0,0,0,0) 40%, rgba(0,0,0,.45) 100%);
    background-color: #0A0A0A;
    background-repeat: no-repeat;
    background-attachment: fixed;
    min-height: 100dvh;
  }

  /* Focus accesible */
  *:focus { @apply outline-none ring-2 ring-red-500/50 ring-offset-2; }

  /* Scrollbar */
  ::-webkit-scrollbar { @apply w-2 h-2; }
  ::-webkit-scrollbar-track { @apply bg-gray-100 rounded; }
  ::-webkit-scrollbar-thumb { @apply bg-gray-400 rounded hover:bg-gray-500; }
}

/* ================================
   COMPONENTS
=================================== */
@layer components {
  /* Botones */
  .btn-primary{
    @apply bg-koi-red hover:opacity-90 text-koi-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed;
  }
  .btn-secondary{
    @apply bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium py-2 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed;
  }
  .btn-success{ @apply bg-green-500 hover:bg-green-600 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed; }
  .btn-warning{ @apply bg-orange-500 hover:bg-orange-600 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed; }
  .btn-danger { @apply bg-koi-red hover:opacity-90 text-koi-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed; }

  /* Cards / paneles */
  .card        { @apply bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden; }
  .card-header { @apply px-6 py-4 border-b border-gray-100 bg-gray-50; }
  .card-body   { @apply p-6; }
  .card-footer { @apply px-6 py-4 border-t border-gray-100 bg-gray-50; }

  /* Inputs */
  .input       { @apply w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent transition-colors duration-200; }
  .input-error { @apply border-red-500 focus:ring-red-500; }

  /* Status pills */
  .status-pill      { @apply inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium; }
  .status-pending   { @apply bg-yellow-100 text-yellow-800; }
  .status-cooking   { @apply bg-orange-100 text-orange-800; }
  .status-ready     { @apply bg-green-100 text-green-800; }
  .status-delivered { @apply bg-blue-100 text-blue-800; }
  .status-paid      { @apply bg-green-100 text-green-700; }
  .status-due       { @apply bg-red-100 text-red-700; }

  /* Progress */
  .progress-bar  { @apply w-full h-3 bg-gray-200 rounded-full overflow-hidden; }
  .progress-fill { @apply h-full bg-koi-red transition-all duration-300 ease-out; }

  /* Layout */
  .container-app   { @apply container mx-auto px-4 py-8 max-w-7xl; }
  .section-header  { @apply text-center mb-6; }
  .section-title   { @apply text-2xl font-bold text-gray-100 mb-2; } /* mejor contraste sobre fondo oscuro */
  .section-subtitle{ @apply text-gray-300; }

  .grid-promotions { @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6; }
  .grid-orders     { @apply grid grid-cols-1 lg:grid-cols-2 gap-6; }
  .grid-dashboard  { @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4; }

  .form-grid  { @apply grid grid-cols-1 md:grid-cols-2 gap-4; }
  .form-row   { @apply flex flex-col space-y-1; }
  .form-label { @apply block text-sm font-medium text-gray-200 mb-1; }
  .form-error { @apply text-red-400 text-xs mt-1 flex items-center gap-1; }

  .qr-container { @apply bg-white/5 backdrop-blur rounded-lg p-4 text-center border border-white/10; }
  .qr-image     { @apply mx-auto mb-4 border rounded-lg shadow-sm; }

  .flex-2 { flex: 2; }

  /* ---------- KOI BACKGROUND (por vista) ---------- */
  .koi-bg{
    @apply relative min-h-screen;
    background:
      radial-gradient(120% 160% at 50% 10%, #121212 0%, #0A0A0A 55%, #0A0A0A 60%),
      radial-gradient(140% 110% at 50% 120%, rgba(192,0,0,.42) 0%, rgba(192,0,0,.18) 38%, rgba(192,0,0,0) 60%),
      linear-gradient(180deg, rgba(0,0,0,.35) 0%, rgba(0,0,0,0) 40%, rgba(0,0,0,.45) 100%);
    background-color: #0A0A0A;
    background-repeat: no-repeat;
    background-attachment: fixed;
  }

  /* Panel/surface sobre fondo oscuro */
  .koi-surface{ @apply bg-white text-black rounded-xl shadow-lg border border-black/5; }

  /* Header glass (sticky) */
  .koi-header{
    @apply sticky top-0 z-40 border-b;
    background: rgba(10,10,10,0.55);
    backdrop-filter: blur(10px);
    border-color: rgba(255,255,255,0.08);
  }

  /* Panel glass blanco (para el “hero” del header y bloques grandes) */
  .koi-panel{
    @apply rounded-2xl border shadow-lg;
    background: rgba(255,255,255,0.86);
    backdrop-filter: saturate(140%) blur(8px);
    border-color: rgba(255,255,255,0.55);
    box-shadow: 0 8px 30px -12px rgba(0,0,0,.45);
  }
}

/* ================================
   UTILITIES
=================================== */
@layer utilities {
  /* Textura de ruido sutil (grain cinematográfico) */
  .koi-noise{
    background-image: url("data:image/svg+xml;utf8,\
<svg xmlns='http://www.w3.org/2000/svg' width='120' height='120'>\
<filter id='n'><feTurbulence type='fractalNoise' baseFrequency='1.0' numOctaves='2' stitchTiles='stitch'/></filter>\
<rect width='100%' height='100%' filter='url(%23n)' opacity='0.02'/></svg>");
    background-size: 260px 260px;
  }

  .aspect-square { aspect-ratio: 1 / 1; }
  .aspect-video  { aspect-ratio: 16 / 9; }

  .safe-area-inset{
    padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
  }

  /* Fallback por si quieres aplicar el fondo a un contenedor puntual */
  .bg-koi-black-red-fallback{
    background: radial-gradient(120% 160% at 50% 10%, #121212 0%, #0A0A0A 55%, #0A0A0A 60%),
                radial-gradient(140% 110% at 50% 120%, rgba(192,0,0,.42) 0%, rgba(192,0,0,.18) 38%, rgba(192,0,0,0) 60%),
                linear-gradient(180deg, rgba(0,0,0,.35) 0%, rgba(0,0,0,0) 40%, rgba(0,0,0,.45) 100%);
    background-color: #0A0A0A;
    background-repeat: no-repeat;
    background-attachment: fixed;
  }
}

/* ================================
   PRINT
=================================== */
@media print{
  .no-print { display: none !important; }
  .print-break { page-break-before: always; }
}
